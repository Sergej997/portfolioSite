function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}function _get(t,e,i){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=_superPropBase(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var i,n=_getPrototypeOf(t);if(e){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Wm2z:function(t,e,i){"use strict";i.r(e),i.d(e,"ProjectsModule",(function(){return St}));var n,o=i("ofXK"),s=i("fXoL"),r=i("XNiG"),a=function(t){_inherits(i,t);var e=_createSuper(i);function i(t,n){var o;return _classCallCheck(this,i),(o=e.call(this,t,n)).scheduler=t,o.work=n,o}return _createClass(i,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?_get(_getPrototypeOf(i.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?_get(_getPrototypeOf(i.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==n&&n>0||null===n&&this.delay>0?_get(_getPrototypeOf(i.prototype),"requestAsyncId",this).call(this,t,e,n):t.flush(this)}}]),i}(i("3N8a").a),l=new(function(t){_inherits(i,t);var e=_createSuper(i);function i(){return _classCallCheck(this,i),e.apply(this,arguments)}return i}(i("IjjT").a))(a),c=i("quSY"),u=i("7o/Q"),h=i("EY2u"),p=i("LRne"),g=i("HDdC"),d=((n=function(){function t(e,i,n){_classCallCheck(this,t),this.kind=e,this.value=i,this.error=n,this.hasValue="N"===e}return _createClass(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}},{key:"accept",value:function(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(p.a)(this.value);case"E":return t=this.error,new g.a((function(e){return e.error(t)}));case"C":return Object(h.b)()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new n("C"),n.undefinedValueNotification=new n("N",void 0),n),m=function(t){_inherits(i,t);var e=_createSuper(i);function i(t,n){var o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,i),(o=e.call(this,t)).scheduler=n,o.delay=s,o}return _createClass(i,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(i.dispatch,this.delay,new f(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(d.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(d.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(d.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,i=t.destination;e.observe(i),this.unsubscribe()}}]),i}(u.a),f=function t(e,i){_classCallCheck(this,t),this.notification=e,this.destination=i},v=i("9ppp"),y=i("Ylt2"),b=function(t){_inherits(i,t);var e=_createSuper(i);function i(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,s=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,i),(t=e.call(this)).scheduler=s,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=n<1?1:n,t._windowTime=o<1?1:o,o===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return _createClass(i,[{key:"nextInfiniteTimeWindow",value:function(t){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),_get(_getPrototypeOf(i.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this._events.push(new C(this._getNow(),t)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf(i.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,i=this._infiniteTimeWindow,n=i?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,s=n.length;if(this.closed)throw new v.a;if(this.isStopped||this.hasError?e=c.a.EMPTY:(this.observers.push(t),e=new y.a(this,t)),o&&t.add(t=new m(t,o)),i)for(var r=0;r<s&&!t.closed;r++)t.next(n[r]);else for(var a=0;a<s&&!t.closed;a++)t.next(n[a].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||l).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,i=this._windowTime,n=this._events,o=n.length,s=0;s<o&&!(t-n[s].time<i);)s++;return o>e&&(s=Math.max(s,o-e)),s>0&&n.splice(0,s),n}}]),i}(r.a),C=function t(e,i){_classCallCheck(this,t),this.time=e,this.value=i};function w(t,e){if(1&t&&(s.Tb(0,"div",7),s.yc(1),s.Sb()),2&t){var i=s.dc();s.Ab(1),s.zc(i.counter)}}function A(t,e){if(1&t&&s.Ob(0,"img",12),2&t){var i=s.dc(2).index,n=s.dc();s.vc("object-fit",n.objectFit),s.gc("src",n.getFile(i).image.path,s.rc)}}function T(t,e){if(1&t){var i=s.Ub();s.Tb(0,"div",13),s.bc("click",(function(){s.pc(i);var t=s.mc(2);return s.dc(3).toggleVideo(t)})),s.Sb(),s.Tb(1,"video",14,15),s.Ob(3,"source",16),s.Sb()}if(2&t){var n=s.dc(2).index,o=s.dc();s.Ab(1),s.vc("object-fit",o.objectFit)("border-radius",o.borderRadius+"px"),s.gc("loop",o.videoProperties.loop)("muted",o.videoProperties.muted)("controls",o.isSafari),s.Ab(2),s.gc("src",o.getFile(n).path,s.rc)}}function x(t,e){if(1&t&&(s.Tb(0,"div",9),s.wc(1,A,1,3,"img",10),s.wc(2,T,4,8,"ng-template",11),s.Sb()),2&t){var i=s.dc().index,n=s.dc();s.vc("width",n.getCellWidth()+"px")("border-radius",n.borderRadius+"px"),s.Ab(1),s.gc("ngIf",n.getFile(i)&&n.getFile(i).image),s.Ab(1),s.gc("ngIf",n.getFile(i)&&"video"===n.getFile(i).type)}}function k(t,e){if(1&t&&s.wc(0,x,3,6,"div",8),2&t){var i=e.index,n=s.dc();s.gc("ngIf",i<n.cellLimit)}}function P(t,e){if(1&t){var i=s.Ub();s.Tb(0,"div",17),s.Tb(1,"div",18),s.bc("click",(function(){return s.pc(i),s.dc().prev()})),s.Sb(),s.Tb(2,"div",19),s.bc("click",(function(){return s.pc(i),s.dc().next()})),s.Sb(),s.Sb()}if(2&t){var n=s.dc();s.Eb("carousel-arrows-outside",n.arrowsOutside)("carousel-dark-arrows","dark"===n.arrowsTheme),s.Ab(1),s.Eb("carousel-arrow-disabled",n.isPrevArrowDisabled()),s.Ab(1),s.Eb("carousel-arrow-disabled",n.isNextArrowDisabled())}}function S(t,e){}var _,I,O,M,E,L,D,j,N=function(){function t(e){var i=this;_classCallCheck(this,t),this.eventType=void 0,this.handlers={},this.startX=0,this.startY=0,this.lastTap=0,this.doubleTapMinTimeout=300,this.tapMinTimeout=200,this.touchstartTime=0,this.i=0,this.isMousedown=!1,this.touchListeners={touchstart:"handleTouchstart",touchmove:"handleTouchmove",touchend:"handleTouchend"},this.mouseListeners={mousedown:"handleMousedown",mousemove:"handleMousemove",mouseup:"handleMouseup",wheel:"handleWheel"},this.otherListeners={resize:"handleResize"},this.handleTouchstart=function(t){i.elementPosition=i.getElementPosition(),i.touchstartTime=(new Date).getTime(),void 0===i.eventType&&i.getTouchstartPosition(t),i.runHandler("touchstart",t)},this.handleTouchmove=function(t){switch(i.detectPan(t.touches)&&i.runHandler("pan",t),i.detectPinch(t)&&i.runHandler("pinch",t),i.detectLinearSwipe(t)){case"horizontal-swipe":t.swipeType="horizontal-swipe",i.runHandler("horizontal-swipe",t);break;case"vertical-swipe":t.swipeType="vertical-swipe",i.runHandler("vertical-swipe",t)}(i.detectLinearSwipe(t)||"horizontal-swipe"===i.eventType||"vertical-swipe"===i.eventType)&&i.handleLinearSwipe(t)},this.handleTouchend=function(t){var e=t.touches;i.detectDoubleTap()&&i.runHandler("double-tap",t),i.detectTap(),i.runHandler("touchend",t),i.eventType="touchend",e&&0===e.length&&(i.eventType=void 0,i.i=0)},this.handleMousedown=function(t){i.isMousedown=!0,i.elementPosition=i.getElementPosition(),i.touchstartTime=(new Date).getTime(),void 0===i.eventType&&i.getMousedownPosition(t),i.runHandler("mousedown",t)},this.handleMousemove=function(t){if(i.isMousedown){switch(i.runHandler("pan",t),i.detectLinearSwipe(t)){case"horizontal-swipe":t.swipeType="horizontal-swipe",i.runHandler("horizontal-swipe",t);break;case"vertical-swipe":t.swipeType="vertical-swipe",i.runHandler("vertical-swipe",t)}(i.detectLinearSwipe(t)||"horizontal-swipe"===i.eventType||"vertical-swipe"===i.eventType)&&i.handleLinearSwipe(t)}},this.handleMouseup=function(t){i.detectTap(),i.isMousedown=!1,i.runHandler("mouseup",t),i.eventType=void 0,i.i=0},this.handleWheel=function(t){i.runHandler("wheel",t)},this.handleResize=function(t){i.runHandler("resize",t)},this.properties=e,this.element=this.properties.element,this.elementPosition=this.getElementPosition(),this.toggleEventListeners("addEventListener")}return _createClass(t,[{key:"destroy",value:function(){this.toggleEventListeners("removeEventListener")}},{key:"toggleEventListeners",value:function(t){var e;for(var i in e="mouse and touch"===this.properties.listeners?Object.assign(this.touchListeners,this.mouseListeners):this.detectTouchScreen()?this.touchListeners:this.mouseListeners,this.properties.resize&&(e=Object.assign(e,this.otherListeners)),e){var n=e[i];"resize"===i?("addEventListener"===t&&window.addEventListener(i,this[n],!1),"removeEventListener"===t&&window.removeEventListener(i,this[n],!1)):"mouseup"===i||"mousemove"===i?("addEventListener"===t&&document.addEventListener(i,this[n],!1),"removeEventListener"===t&&document.removeEventListener(i,this[n],!1)):("addEventListener"===t&&this.element.addEventListener(i,this[n],!1),"removeEventListener"===t&&this.element.removeEventListener(i,this[n],!1))}}},{key:"handleLinearSwipe",value:function(t){this.i++,this.i>3&&(this.eventType=this.getLinearSwipeType(t)),"horizontal-swipe"===this.eventType&&this.runHandler("horizontal-swipe",t),"vertical-swipe"===this.eventType&&this.runHandler("vertical-swipe",t)}},{key:"runHandler",value:function(t,e){this.handlers[t]&&this.handlers[t](e)}},{key:"detectPan",value:function(t){return 1===t.length&&!this.eventType||"pan"===this.eventType}},{key:"detectDoubleTap",value:function(){var t=this;if(null==this.eventType){var e=(new Date).getTime(),i=e-this.lastTap;if(clearTimeout(this.doubleTapTimeout),i<this.doubleTapMinTimeout&&i>0)return!0;this.doubleTapTimeout=setTimeout((function(){clearTimeout(t.doubleTapTimeout)}),this.doubleTapMinTimeout),this.lastTap=e}}},{key:"detectTap",value:function(){if(null==this.eventType){var t=(new Date).getTime()-this.touchstartTime;t>0&&this.runHandler(t<this.tapMinTimeout?"tap":"longtap",event)}}},{key:"detectPinch",value:function(t){return 2===t.touches.length&&void 0===this.eventType||"pinch"===this.eventType}},{key:"detectLinearSwipe",value:function(t){var e=t.touches;if(e){if(1===e.length&&!this.eventType||"horizontal-swipe"===this.eventType||"vertical-swipe"===this.eventType)return this.getLinearSwipeType(t)}else if(!this.eventType||"horizontal-swipe"===this.eventType||"vertical-swipe"===this.eventType)return this.getLinearSwipeType(t)}},{key:"getLinearSwipeType",value:function(t){if("horizontal-swipe"!==this.eventType&&"vertical-swipe"!==this.eventType){var e=Math.abs(this.moveLeft(0,t)-this.startX);return 3*Math.abs(this.moveTop(0,t)-this.startY)>e?"vertical-swipe":"horizontal-swipe"}return this.eventType}},{key:"getElementPosition",value:function(){return this.element.getBoundingClientRect()}},{key:"getTouchstartPosition",value:function(t){this.startX=t.touches[0].clientX-this.elementPosition.left,this.startY=t.touches[0].clientY-this.elementPosition.top}},{key:"getMousedownPosition",value:function(t){this.startX=t.clientX-this.elementPosition.left,this.startY=t.clientY-this.elementPosition.top}},{key:"moveLeft",value:function(t,e){var i=e.touches;return i?i[t].clientX-this.elementPosition.left:e.clientX-this.elementPosition.left}},{key:"moveTop",value:function(t,e){var i=e.touches;return i?i[t].clientY-this.elementPosition.top:e.clientY-this.elementPosition.top}},{key:"detectTouchScreen",value:function(){var t,e=" -webkit- -moz- -o- -ms- ".split(" ");return"ontouchstart"in window||(t=["(",e.join("touch-enabled),("),"heartz",")"].join(""),window.matchMedia(t).matches)}},{key:"on",value:function(t,e){t&&(this.handlers[t]=e)}}]),t}(),z=function(){function t(e){var i=this;_classCallCheck(this,t),this.initialPositionX=0,this.newContainerPositionIndex=0,this.preliminarySlideCounter=0,this.slideCounter=0,this.previousSlideCounter=0,this.isContentImages=!0,this.isLazyLoad=!0,this.isContainerLocked=!1,this.alignCells="left",this.initialContainerPosition=0,this.handleTouchstart=function(t){if(i.isTouchstart=!0,!i.isSlideInProgress){var e=t.touches;i.startX=e?e[0].clientX-i.getCarouselElementPosition().left:t.clientX-i.getCarouselElementPosition().left,i.containerInitialPositionX=i.getElementPosition().left-i.getCarouselElementPosition().left,i.isMoveInProgress=!0}},this.handleHorizontalSwipe=function(t){if(!i.isSlideInProgress){var e=t.touches;i.moveX=e?e[0].clientX-i.getCarouselElementPosition().left:t.clientX-i.getCarouselElementPosition().left,i.distanceAbs=i.getDistanceAbs(),i.direction=i.getDirection(),i.moveContainer()}},this.handleTouchend=function(t){!i.isSlideInProgress&&i.isTouchstart?(i.isMoveInProgress=!1,i.detectSlide()?i.handleSlide():(i.newContainerPositionIndex=0,i.alignContainer()),i.startX=i.moveX=i.distanceAbs=void 0,i.isTouchstart=!1):i.isTouchstart=!1},this.element=e.element,this.properties=e,this.cells=this.element.children,this.visibleWidth=this.properties.visibleWidth||this.element.parentElement.clientWidth,this.setContainerWidth(),this.alignContainer(0)}return _createClass(t,[{key:"moveContainer",value:function(){var t=this.getMovePositionX();this.transformPositionX(t,0)}},{key:"getMovePositionX",value:function(){var t=this.getDistance();return this.containerInitialPositionX-t}},{key:"alignContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.transitionDuration,e=this.getContainerPosition();this.transformPositionX(e,t),this.setInitialContainerPosition(e)}},{key:"getContainerPosition",value:function(){var t=this.getContainerPositionCorrection();return this.isContainerPositionCorrection=0!=t,this.initialContainerPosition+this.newContainerPositionIndex*this.fullCellWidth+t}},{key:"setInitialContainerPosition",value:function(t){var e=this.getContainerPositionCorrection();this.initialContainerPosition=t-e}},{key:"getContainerPositionCorrection",value:function(){var t=0;return(this.images.length-this.preliminarySlideCounter<this.visibleCellsCount||this.isSlideLengthLimited)&&(this.visibleWidth<this.totalContainerCellsCount*this.fullCellWidth&&(t=-(this.visibleCellsCount*this.fullCellWidth-this.visibleWidth-this.margin)),t>=-this.margin&&(t=0)),t}},{key:"quicklyPositionContainer",value:function(){var t=this.getContainerPositionCorrection(),e=this.getNewContainerPosition()+t;this.transformPositionX(e,0),this.setInitialContainerPosition(e)}},{key:"getNewContainerPosition",value:function(){return this.slideCounter>this.overflowCellsLimit&&"left"===this.alignCells?(this.lineUpCells(),-this.overflowCellsLimit*this.fullCellWidth):this.slideCounter<=this.overflowCellsLimit?(this.previousSlideCounter>this.overflowCellsLimit&&this.lineUpCells(),-this.slideCounter*this.fullCellWidth):void 0}},{key:"setContainerWidth",value:function(){var t=this.getContainerWidth();this.element.style.width=t+"px"}},{key:"getContainerWidth",value:function(){this.totalContainerCellsCount=this.visibleCellsCount+2*this.overflowCellsLimit;var t=this.totalContainerCellsCount*this.fullCellWidth,e=this.images.length*this.fullCellWidth;return e<t&&(t=e),t}},{key:"getFile",value:function(t){var e=this.getFileIndex(t),i=this.images[e];return i&&!i.type&&(i.type="image"),{image:this.images[e],imageIndex:e}}},{key:"getFileIndex",value:function(t){var e,i=this.getPositionIndex(t);return this.isContainerLocked?("left"===this.alignCells&&(e=this.slideCounter>this.overflowCellsLimit?i+(this.slideCounter-this.overflowCellsLimit):t),!(e>this.lastCellIndex)&&e):this.slideCounter<=this.overflowCellsLimit?t:e=i+(this.slideCounter-this.overflowCellsLimit)}},{key:"transformPositionX",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.transitionDuration;this.element.style.transition="transform "+e+"ms "+this.transitionTimingFunction,this.element.style.transform="translateX("+t+"px)"}},{key:"detectSlide",value:function(){return this.distanceAbs>=this.minSwipeDistance}},{key:"next",value:function(){this.isSlideInProgress||(this.direction="left",this.handleSlide(1))}},{key:"prev",value:function(){this.isSlideInProgress||(this.direction="right",this.handleSlide(1))}},{key:"select",value:function(t){this.slideCounter=t,this.quicklyPositionContainer()}},{key:"handleSlide",value:function(t){this.slideLength=this.getSlideLength(),this.slideLength=t||this.limitSlideLength(this.slideLength),"left"!==this.direction||this.isSlideInProgress||(this.preliminarySlideCounter=this.slideCounter+this.slideLength,this.detectLastSlide(this.slideCounter+this.slideLength)||(this.newContainerPositionIndex=this.newContainerPositionIndex-this.slideLength,this.isSlideInProgress=!0,this.isLazyLoad&&(this.isContainerLocked=this.preliminarySlideCounter>this.overflowCellsLimit,this.detectContainerUnlock()&&(this.isContainerLocked=!1)))),"right"!==this.direction||this.isSlideInProgress||(this.slideCounter-this.slideLength<0&&(this.slideLength=this.slideCounter),this.preliminarySlideCounter=this.slideCounter-this.slideLength,this.isFirstCell||(this.newContainerPositionIndex=this.newContainerPositionIndex+this.slideLength,this.isSlideInProgress=!0,this.isLazyLoad&&(this.isContainerLocked=this.preliminarySlideCounter>this.overflowCellsLimit,this.detectContainerUnlock()&&(this.isContainerLocked=!1)))),this.alignContainer()}},{key:"getSlideLength",value:function(){var t=this.getContainerPositionCorrection(),e=Math.floor((this.distanceAbs+t)/this.fullCellWidth);return this.distanceAbs%this.fullCellWidth>=this.minSwipeDistance&&e++,e}},{key:"limitSlideLength",value:function(t){if(t>1)for(var e=0;e<t;e++)if(!this.detectLastSlide(this.slideCounter+(t-e))){t-=e,this.isSlideLengthLimited=e>0;break}return t}},{key:"detectLastSlide",value:function(t){return this.images.length-t<this.visibleCellsCount}},{key:"isNextArrowDisabled",value:function(){return this.visibleCellsOverflowContainer?this.detectLastSlide(this.slideCounter+1)&&this.isContainerPositionCorrection:this.detectLastSlide(this.slideCounter+1)}},{key:"isPrevArrowDisabled",value:function(){return 0===this.slideCounter}},{key:"detectContainerUnlock",value:function(){return this.images.length-this.preliminarySlideCounter<this.visibleCellsCount+this.overflowCellsLimit}},{key:"handleSlideEnd",value:function(){this.isSlideInProgress&&(this.transformSlideEnd(),this.isSlideInProgress=!1,this.newContainerPositionIndex=0,this.isSlideLengthLimited=void 0)}},{key:"transformSlideEnd",value:function(){this.isLazyLoad&&(this.setSlideCounter(),this.quicklyPositionContainer()),this.previousSlideCounter=this.slideCounter}},{key:"setSlideCounter",value:function(){"left"===this.direction&&(this.slideCounter=this.slideCounter+this.slideLength),"right"===this.direction&&(this.slideCounter=this.slideCounter-this.slideLength),this.direction=void 0,this.slideLength=0}},{key:"resetTransition",value:function(){this.element.style.transition=""}},{key:"getElementPosition",value:function(){return this.element.getBoundingClientRect()}},{key:"getCarouselElementPosition",value:function(){return this.properties.container.getBoundingClientRect()}},{key:"getDistance",value:function(){return this.startX-this.moveX}},{key:"getDistanceAbs",value:function(){return Math.abs(this.startX-this.moveX)}},{key:"getDirection",value:function(){var t=Math.sign(this.startX-this.moveX);return-1===t?"right":1===t?"left":void 0}},{key:"lineUpCells",value:function(){for(var t=this.element.children,e=0;e<t.length;e++){var i=t[e],n=this.getCellPositionX(e);i.style.transform="translateX("+n+"px)"}}},{key:"getCellPositionX",value:function(t){return this.getPositionIndex(t)*this.fullCellWidth}},{key:"getPositionIndex",value:function(t){var e,i=this.slideCounter-this.overflowCellsLimit;return i>this.totalContainerCellsCount&&(i%=this.totalContainerCellsCount),i<0?t:((e=t-i)<0&&(e=this.totalContainerCellsCount+e),e)}},{key:"getCenterPositionIndex",value:function(){return(this.totalContainerCellsCount-1)/2}},{key:"isFirstCell",get:function(){return 0===this.slideCounter}},{key:"lastCellIndex",get:function(){return this.images.length?this.images.length-1:this.cells.length-1}},{key:"overflowCellsLimit",get:function(){return this.properties.overflowCellsLimit}},{key:"cellLimit",get:function(){return this.visibleCellsCount+2*this.overflowCellsLimit}},{key:"images",get:function(){return this.properties.images}},{key:"margin",get:function(){return this.properties.margin}},{key:"minSwipeDistance",get:function(){return this.properties.minSwipeDistance}},{key:"transitionDuration",get:function(){return this.properties.transitionDuration}},{key:"transitionTimingFunction",get:function(){return this.properties.transitionTimingFunction}},{key:"fullCellWidth",get:function(){return this.properties.cellWidth+this.margin}},{key:"visibleCellsCount",get:function(){return Math.ceil(this.visibleWidth/this.fullCellWidth)}},{key:"lapCounter",get:function(){return Math.floor(this.slideCounter/this.totalContainerCellsCount)}},{key:"visibleCellsOverflowContainer",get:function(){return this.visibleCellsCount*this.fullCellWidth-this.margin>this.visibleWidth}},{key:"containerOverflowRightCount",get:function(){var t=this.images.length-this.totalContainerCellsCount,e=0;return t>0&&(e=t-(this.previousSlideCounter-this.overflowCellsLimit)),e}}]),t}(),R=((M=function(){function t(){_classCallCheck(this,t),this.emitter=new b(1)}return _createClass(t,[{key:"emitChangeEvent",value:function(t){this.emitter.next(t)}}]),t}()).\u0275fac=function(t){return new(t||M)},M.\u0275prov=s.Jb({token:M,factory:M.\u0275fac}),M),F=((O=function(){function t(e,i,n){var o=this;_classCallCheck(this,t),this.elementRef=e,this.ref=i,this.overlayEventService=n,this.minTimeout=30,this._cellWidth=200,this._transitionDuration=200,this.events=new s.n,this.height=200,this.margin=10,this.objectFit="cover",this.minSwipeDistance=50,this.transitionTimingFunction="ease",this.counterSeparator=" / ",this.overflowCellsLimit=3,this.listeners="mouse and touch",this.arrows=!0,this.arrowsTheme="light",this.hostClassCarousel=!0,this.handleTouchstart=function(t){t.preventDefault(),o.carousel.handleTouchstart(t),o.isMoving=!0,o.events.emit({type:"touchstart",event:t})},this.handleHorizontalSwipe=function(t){t.preventDefault(),o.carousel.handleHorizontalSwipe(t),o.events.emit({type:"swipe",event:t})},this.handleTouchend=function(t){o.carousel.handleTouchend(t),o.isMoving=!1,o.events.emit({type:"touchend",event:t})},this.handleTap=function(t){var e=o.carousel.currentCellIndex,i=o.carousel.getFileIndex(o.carousel.slideCounter),n=o.carousel.getFile(e);o.events.emit({type:"click",file:n,index:i})}}return _createClass(t,[{key:"onWindowResize",value:function(t){this.landscapeMode=this.isLandscape,this.ref.detectChanges(),this.initCarousel(),this.carousel.lineUpCells()}},{key:"ngOnInit",value:function(){this.touches=new N({element:this.elementRef.nativeElement.querySelector(".carousel-cells"),listeners:this.listeners}),this.touches.on("touchstart",this.handleTouchstart),this.touches.on("horizontal-swipe",this.handleHorizontalSwipe),this.touches.on("touchend",this.handleTouchend),this.touches.on("mousedown",this.handleTouchstart),this.touches.on("mouseup",this.handleTouchend),this.touches.on("tap",this.handleTap),this.initCarousel(),this.setDimensions(),this.setInitialIndex()}},{key:"ngAfterViewInit",value:function(){this.carousel.lineUpCells()}},{key:"ngOnChanges",value:function(t){(t.width||t.height)&&(this.setDimensions(),this.initCarousel(),this.carousel.lineUpCells())}},{key:"ngOnDestroy",value:function(){this.touches.destroy()}},{key:"initCarousel",value:function(){this.carousel=new z({element:this.elementRef.nativeElement.querySelector(".carousel-cells"),container:this.elementRef.nativeElement,images:this.images,cellWidth:this.getCellWidth(),overflowCellsLimit:this.overflowCellsLimit,visibleWidth:this.width,margin:this.margin,minSwipeDistance:this.minSwipeDistance,transitionDuration:this.transitionDuration,transitionTimingFunction:this.transitionTimingFunction,videoProperties:this.videoProperties})}},{key:"setDimensions",value:function(){this.hostStyleHeight=this.height+"px",this.hostStyleWidth=this.width+"px"}},{key:"getFile",value:function(t){return this.carousel.getFile(t)}},{key:"handleTransitionendCellContainer",value:function(t){this.carousel.handleSlideEnd()}},{key:"toggleVideo",value:function(t){event.preventDefault(),this.videoProperties.noPlay||(t.paused?(t.play(),this.isVideoPlaying=!0):(t.pause(),this.isVideoPlaying=!1),this.ref.detectChanges())}},{key:"getCurrentIndex",value:function(){return this.carousel.slideCounter}},{key:"getCellWidth",value:function(){return"100%"===this._cellWidth?this.elementRef.nativeElement.clientWidth:this._cellWidth}},{key:"next",value:function(){this.carousel.next(1)}},{key:"prev",value:function(){this.carousel.prev(1)}},{key:"select",value:function(t){this.carousel.select(t)}},{key:"isNextArrowDisabled",value:function(){return this.carousel.isNextArrowDisabled()}},{key:"isPrevArrowDisabled",value:function(){return this.carousel.isPrevArrowDisabled()}},{key:"close",value:function(){this.overlayEventService.emitChangeEvent({type:"Hide"})}},{key:"setInitialIndex",value:function(){null!=this._properties.metadata.index&&this.select(this._properties.metadata.index)}},{key:"isLandscape",get:function(){return window.innerWidth>window.innerHeight}},{key:"isSafari",get:function(){var t=navigator.userAgent.toLowerCase();if(-1!==t.indexOf("safari"))return!(t.indexOf("chrome")>-1)}},{key:"counter",get:function(){return this.carousel.slideCounter+1+this.counterSeparator+this.images.length}},{key:"images",set:function(t){this._images=t},get:function(){return this._images}},{key:"isNgContent",get:function(){return this.elementRef.nativeElement.querySelector(".carousel-content-wrapper").children.length>0}},{key:"transitionDuration",set:function(t){this._transitionDuration=t},get:function(){return 0===this._transitionDuration?1:this._transitionDuration}},{key:"cellWidth",set:function(t){t&&(this._cellWidth=t)}},{key:"isCounter",set:function(t){t&&(this._isCounter=t)},get:function(){return this._isCounter&&this.images.length>1}},{key:"overlayProperties",set:function(t){this._properties=t,this._images=this._properties.metadata.images,this._cellWidth=this._properties.metadata.width,this.height=this._properties.metadata.height,this.objectFit=this._properties.metadata.objectFit,this.margin=this._properties.metadata.margin,this.transitionDuration=this._properties.metadata.transitionDuration,this.overflowCellsLimit=this._properties.metadata.overflowCellsLimit,this.minSwipeDistance=this._properties.metadata.minSwipeDistance,this.transitionTimingFunction=this._properties.metadata.transitionTimingFunction,this._isCounter=this._properties.metadata.counter,this.counterSeparator=this._properties.metadata.counterSeparator,this.arrows=this._properties.metadata.arrows}},{key:"properties",get:function(){return this._properties}},{key:"cellLimit",get:function(){if(this.carousel)return this.carousel.cellLimit}}]),t}()).\u0275fac=function(t){return new(t||O)(s.Nb(s.l),s.Nb(s.h),s.Nb(R))},O.\u0275cmp=s.Hb({type:O,selectors:[["carousel"],["","carousel",""]],hostVars:6,hostBindings:function(t,e){1&t&&s.bc("resize",(function(t){return e.onWindowResize(t)}),!1,s.oc),2&t&&(s.vc("height",e.hostStyleHeight)("width",e.hostStyleWidth),s.Eb("carousel",e.hostClassCarousel))},inputs:{height:"height",margin:"margin",objectFit:"objectFit",minSwipeDistance:"minSwipeDistance",transitionTimingFunction:"transitionTimingFunction",counterSeparator:"counterSeparator",overflowCellsLimit:"overflowCellsLimit",listeners:"listeners",arrows:"arrows",arrowsTheme:"arrowsTheme",images:"images",transitionDuration:"transitionDuration",cellWidth:"cellWidth",isCounter:["counter","isCounter"],overlayProperties:"overlayProperties",width:"width",borderRadius:"borderRadius",videoProperties:"videoProperties",arrowsOutside:"arrowsOutside"},outputs:{events:"events"},exportAs:["carousel"],features:[s.yb],decls:7,vars:5,consts:[[1,"carousel-backdrop"],[1,"carousel-close",3,"click"],["class","carousel-counter",4,"ngIf"],[1,"carousel-container"],[1,"carousel-cells",3,"transitionend"],["ngFor","",3,"ngForOf"],["class","carousel-arrows",3,"carousel-arrows-outside","carousel-dark-arrows",4,"ngIf"],[1,"carousel-counter"],["class","carousel-cell",3,"width","border-radius",4,"ngIf"],[1,"carousel-cell"],["draggable","false",3,"src","object-fit",4,"ngIf"],[3,"ngIf"],["draggable","false",3,"src"],[1,"carousel-play",3,"click"],[3,"loop","muted","controls"],["video",""],["type","video/mp4",3,"src"],[1,"carousel-arrows"],[1,"carousel-arrow","carousel-arrow-prev",3,"click"],[1,"carousel-arrow","carousel-arrow-next",3,"click"]],template:function(t,e){1&t&&(s.Ob(0,"div",0),s.Tb(1,"div",1),s.bc("click",(function(){return e.close()})),s.Sb(),s.wc(2,w,2,1,"div",2),s.Tb(3,"div",3),s.Tb(4,"div",4),s.bc("transitionend",(function(t){return e.handleTransitionendCellContainer(t)})),s.wc(5,k,1,1,"ng-template",5),s.Sb(),s.Sb(),s.wc(6,P,3,8,"div",6)),2&t&&(s.Ab(2),s.gc("ngIf",e.isCounter),s.Ab(1),s.Eb("carousel-moving",e.isMoving),s.Ab(2),s.gc("ngForOf",e.images),s.Ab(1),s.gc("ngIf",e.arrows))},directives:[o.j,o.i],styles:["[_nghost-%COMP%]{position:relative;display:block;top:0;left:0;width:100%;height:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10000;transform-origin:top left;box-sizing:border-box}[_nghost-%COMP%]   .carousel-container[_ngcontent-%COMP%]{overflow:hidden;width:100%;height:100%;cursor:-webkit-grab;cursor:grab}[_nghost-%COMP%]   .carousel-container.carousel-moving[_ngcontent-%COMP%]{cursor:-webkit-grabbing;cursor:grabbing}[_nghost-%COMP%]   .carousel-counter[_ngcontent-%COMP%]{text-align:right;position:absolute;z-index:30;transition:opacity .2s;top:15px;left:10px;border-radius:13px;background-color:rgba(23,37,68,.3);font-size:13px;color:#fff;padding:5px 7px;line-height:initial}[_nghost-%COMP%]   .carousel-cells[_ngcontent-%COMP%]{transition:transform .2s;width:100%;height:100%;display:block}[_nghost-%COMP%]   .carousel-cells[_ngcontent-%COMP%]     .carousel-cell.swiper-prev-image{transform:translate3d(-100%,0,0)}[_nghost-%COMP%]   .carousel-cells[_ngcontent-%COMP%]     .carousel-cell.swiper-next-image{transform:translate3d(100%,0,0)}[_nghost-%COMP%]   .carousel-cells[_ngcontent-%COMP%]     .carousel-cell{width:100%;height:100%;text-align:center;position:absolute;display:flex;align-items:center;justify-content:center;overflow:hidden}[_nghost-%COMP%]   .carousel-cells[_ngcontent-%COMP%]     .carousel-cell img, [_nghost-%COMP%]   .carousel-cells[_ngcontent-%COMP%]     .carousel-cell video{width:100%;height:100%;position:relative;-o-object-fit:contain;object-fit:contain}[_nghost-%COMP%]   .carousel-cells[_ngcontent-%COMP%]     .carousel-cell img.swiper-hide{display:none}[_nghost-%COMP%]   .carousel-cells[_ngcontent-%COMP%]     .carousel-cell .carousel-play{position:absolute;top:0;left:0;bottom:0;right:0;z-index:1}[_nghost-%COMP%]   .carousel-arrow[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#fff;background-repeat:no-repeat;background-size:31px;background-position:center;border-radius:100px;position:absolute;top:50%;margin-top:-20px;z-index:10;cursor:pointer;box-shadow:0 0 5px rgba(0,0,0,.15)}[_nghost-%COMP%]   .carousel-arrow-prev[_ngcontent-%COMP%]{left:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNMTUuNDEgMTYuNTlMMTAuODMgMTJsNC41OC00LjU5TDE0IDZsLTYgNiA2IDYgMS40MS0xLjQxeiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==)}[_nghost-%COMP%]   .carousel-arrow-next[_ngcontent-%COMP%]{right:10px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNOC41OSAxNi41OUwxMy4xNyAxMiA4LjU5IDcuNDEgMTAgNmw2IDYtNiA2LTEuNDEtMS40MXoiLz48cGF0aCBkPSJNMCAwaDI0djI0SDBWMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4=)}[_nghost-%COMP%]   .carousel-arrows-outside[_ngcontent-%COMP%]   .carousel-arrow-prev[_ngcontent-%COMP%]{left:-60px}[_nghost-%COMP%]   .carousel-arrows-outside[_ngcontent-%COMP%]   .carousel-arrow-next[_ngcontent-%COMP%]{right:-60px}[_nghost-%COMP%]   .carousel-dark-arrows[_ngcontent-%COMP%]   .carousel-arrow[_ngcontent-%COMP%]{-webkit-filter:invert(1);filter:invert(1)}[_nghost-%COMP%]   .carousel-arrow-disabled[_ngcontent-%COMP%]{cursor:default;opacity:.5}[_nghost-%COMP%]   .carousel-close[_ngcontent-%COMP%]{position:fixed;top:10px;right:10px;width:40px;height:40px;z-index:100;cursor:pointer;background-repeat:no-repeat;background-size:31px;background-position:center;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNMTkgNi40MUwxNy41OSA1IDEyIDEwLjU5IDYuNDEgNSA1IDYuNDEgMTAuNTkgMTIgNSAxNy41OSA2LjQxIDE5IDEyIDEzLjQxIDE3LjU5IDE5IDE5IDE3LjU5IDEzLjQxIDEyeiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4=);-webkit-filter:invert(1);filter:invert(1)}[_nghost-%COMP%]   .carousel-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;bottom:0;background-color:#000;opacity:.5}"]}),O),H=((I=function t(e){_classCallCheck(this,t),this.viewContainerRef=e}).\u0275fac=function(t){return new(t||I)(s.Nb(s.N))},I.\u0275dir=s.Ib({type:I,selectors:[["","ad-host",""]]}),I),U=((_=function(){function t(e,i,n){var o=this;_classCallCheck(this,t),this.componentFactoryResolver=e,this.elementRef=i,this.eventService=n,this.overlayBackdrop=!0,this.minTimeout=30,this._hostOpacity=0,this.globalEventsSubscription=this.eventService.emitter.subscribe((function(t){o.handleGlobalEvents(t)}))}return _createClass(t,[{key:"onClick",value:function(t){this.elementRef.nativeElement.contains(t.target)||this.hostShown&&this.closeOverlay()}},{key:"transitionEnd",value:function(t){"overlay"==t.target.tagName.toLowerCase()&&"opacity"==t.propertyName&&(this.hostShown?this.closeOverlayEnd():this.hostShown=!0)}},{key:"ngOnInit",value:function(){var t=this;this.loadComponent(),this.initialOverlay(),setTimeout((function(){t.isInitial=!0}),this.minTimeout)}},{key:"ngAfterViewInit",value:function(){var t=this;setTimeout((function(){t.showOverlayAnimation()}),this.minTimeout)}},{key:"ngOnDestroy",value:function(){this.globalEventsSubscription&&this.globalEventsSubscription.unsubscribe()}},{key:"initialOverlay",value:function(){this.hostTransform="translateY("+this.properties.animationTranslateY+")"}},{key:"showOverlayAnimation",value:function(){this.hostOpacity=1,this.hostTransform="translateY(0px)"}},{key:"loadComponent",value:function(){var t=this.componentFactoryResolver.resolveComponentFactory(this.properties.mainComponent),e=this.adHost.viewContainerRef;e.clear();var i=e.createComponent(t),n=i.location.nativeElement;n.style.width=this.properties.width,n.style.height=this.properties.height,"string"==typeof this.popoverClass&&n.classList.add(this.popoverClass),"object"==typeof this.popoverClass&&this.popoverClass.forEach((function(t){n.classList.add(t)})),i.instance.overlayProperties=this.properties}},{key:"closeOverlay",value:function(){this.hostOpacity=0,this.hostTransform="translateY("+this.properties.animationTranslateY+")"}},{key:"closeOverlayEnd",value:function(){this.hostShown=!1,this.eventService.emitChangeEvent({type:"[Overlay] Hide"})}},{key:"handleGlobalEvents",value:function(t){"Hide"===t.type&&this.closeOverlay()}},{key:"hostOpacity",get:function(){return this.properties.fadeIn?this._hostOpacity:1},set:function(t){this._hostOpacity=t}},{key:"hostTransition",get:function(){var t=this.properties.animationDuration+"ms ",e=this.properties.animationTimingFunction;return"opacity "+t+e+", transform "+t+e}},{key:"hostZIndex",get:function(){return this.properties.zIndex}},{key:"hostWidth",get:function(){return this.properties.wrapperWidth}},{key:"hostHeight",get:function(){return this.properties.wrapperHeight}},{key:"hostPosition",get:function(){return this.properties.position}},{key:"popoverClass",get:function(){if(this.properties.metadata)return this.properties.metadata.popoverClass}}]),t}()).\u0275fac=function(t){return new(t||_)(s.Nb(s.j),s.Nb(s.l),s.Nb(R))},_.\u0275cmp=s.Hb({type:_,selectors:[["overlay"]],viewQuery:function(t,e){var i;1&t&&s.tc(H,!0),2&t&&s.lc(i=s.cc())&&(e.adHost=i.first)},hostVars:16,hostBindings:function(t,e){1&t&&s.bc("click",(function(t){return e.onClick(t)}),!1,s.nc)("transitionend",(function(t){return e.transitionEnd(t)})),2&t&&(s.vc("opacity",e.hostOpacity)("transition",e.hostTransition)("z-index",e.hostZIndex)("width",e.hostWidth)("height",e.hostHeight)("position",e.hostPosition)("transform",e.hostTransform),s.Eb("overlay-shown",e.hostShown))},inputs:{properties:"properties"},decls:1,vars:0,consts:[["ad-host",""]],template:function(t,e){1&t&&s.wc(0,S,0,0,"ng-template",0)},directives:[H],styles:["[_nghost-%COMP%]{position:absolute;top:0;left:0}[_nghost-%COMP%]   .overlay-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;bottom:0;background-color:#000;opacity:0;z-index:1000;pointer-events:auto}"]}),_),W={animationDuration:100,animationTimingFunction:"ease-in-out",position:"absolute",zIndex:1e3,fadeIn:!0},X=((E=function(){function t(e,i,n,o){var s=this;_classCallCheck(this,t),this.componentFactoryResolver=e,this.appRef=i,this.injector=n,this.eventService=o,this.componentRefs={},this._properties={},this.globalEventsSubscription=this.eventService.emitter.subscribe((function(t){s.handleGlobalEvents(t)}))}return _createClass(t,[{key:"appendComponentToBody",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:U;if(!this.componentRefs[0]){var i=this.componentFactoryResolver.resolveComponentFactory(e).create(this.injector);this.componentRefs[0]=i,i.instance.properties=t,this.appRef.attachView(i.hostView),document.body.appendChild(i.hostView.rootNodes[0])}}},{key:"load",value:function(t){t=this.applyPropertieDefaults(W,t),this.appendComponentToBody(t)}},{key:"close",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},{key:"applyPropertieDefaults",value:function(t,e){return e||(e={}),e.index||(e.index=0),this._defaultProperties=Object.assign({},t),Object.assign(this._defaultProperties,e)}},{key:"objectLength",value:function(t){var e,i=0;for(e in t)t.hasOwnProperty(e)&&i++;return i}},{key:"handleGlobalEvents",value:function(t){"[Overlay] Hide"===t.type&&this.handleCloseEvent()}},{key:"handleCloseEvent",value:function(){this.appRef.detachView(this.componentRefs[0].hostView),this.componentRefs[0].destroy(),delete this.componentRefs[0]}}]),t}()).\u0275fac=function(t){return new(t||E)(s.Xb(s.j),s.Xb(s.g),s.Xb(s.r),s.Xb(R))},E.\u0275prov=s.Jb({token:E,factory:E.\u0275fac}),E),B={transitionDuration:400,minSwipeDistance:50,transitionTimingFunction:"ease",counterSeparator:" / ",arrows:!0},G=((j=function(){function t(e,i){_classCallCheck(this,t),this.overlay=e,this.overlayEventService=i}return _createClass(t,[{key:"load",value:function(t){t=this.applyPropertieDefaults(B,t),this.overlay.load({id:"gallery",mainComponent:F,width:document.body.clientWidth+"px",overlayBackdrop:!0,position:"fixed",metadata:{images:t.images,index:t.index,width:document.body.clientWidth,height:window.innerHeight,objectFit:"none",margin:0,transitionDuration:t.transitionDuration,overflowCellsLimit:1,transitionTimingFunction:t.transitionTimingFunction,counter:t.counter,counterSeparator:t.counterSeparator,arrows:t.arrows,minSwipeDistance:t.minSwipeDistance}})}},{key:"close",value:function(){this.overlayEventService.emitChangeEvent({type:"Hide"})}},{key:"applyPropertieDefaults",value:function(t,e){for(var i in e||(e={}),e)void 0===e[i]&&delete e[i];return this._defaultProperties=Object.assign({},t),Object.assign(this._defaultProperties,e)}}]),t}()).\u0275fac=function(t){return new(t||j)(s.Xb(X),s.Xb(R))},j.\u0275prov=s.Jb({token:j,factory:j.\u0275fac}),j),Y=((D=function t(){_classCallCheck(this,t)}).\u0275mod=s.Lb({type:D}),D.\u0275inj=s.Kb({factory:function(t){return new(t||D)},providers:[X,R],imports:[[o.b]]}),D),V=((L=function t(){_classCallCheck(this,t)}).\u0275mod=s.Lb({type:L}),L.\u0275inj=s.Kb({factory:function(t){return new(t||L)},providers:[G],imports:[[o.b,Y]]}),L),Q=i("tyNb"),K=i("rHMi"),q=i("jhN1"),Z=i("+qrf");function J(t,e){1&t&&(s.Tb(0,"span"),s.yc(1,","),s.Sb())}function $(t,e){if(1&t&&(s.Tb(0,"span",13),s.yc(1),s.wc(2,J,2,0,"span",14),s.Sb()),2&t){var i=e.$implicit,n=e.index,o=s.dc(3);s.Ab(1),s.zc(" "+i),s.Ab(1),s.gc("ngIf",n!=o.projekat.languages.length-1)}}function tt(t,e){if(1&t&&(s.Tb(0,"div",11),s.yc(1,"Languages: "),s.wc(2,$,3,2,"span",12),s.Sb()),2&t){var i=s.dc(2);s.Ab(2),s.gc("ngForOf",i.projekat.languages)}}function et(t,e){1&t&&(s.Tb(0,"span"),s.yc(1,","),s.Sb())}function it(t,e){if(1&t&&(s.Tb(0,"span",13),s.yc(1),s.wc(2,et,2,0,"span",14),s.Sb()),2&t){var i=e.$implicit,n=e.index,o=s.dc(3);s.Ab(1),s.zc(" "+i),s.Ab(1),s.gc("ngIf",n!=o.projekat.freamworks.length-1)}}function nt(t,e){if(1&t&&(s.Tb(0,"div",11),s.yc(1,"Freamworks: "),s.wc(2,it,3,2,"span",12),s.Sb()),2&t){var i=s.dc(2);s.Ab(2),s.gc("ngForOf",i.projekat.freamworks)}}function ot(t,e){if(1&t&&(s.Tb(0,"div",11),s.yc(1,"Database: "),s.Tb(2,"span",13),s.yc(3),s.Sb(),s.Sb()),2&t){var i=s.dc(2);s.Ab(3),s.zc(i.projekat.database)}}function st(t,e){1&t&&(s.Tb(0,"span"),s.yc(1,","),s.Sb())}function rt(t,e){if(1&t&&(s.Tb(0,"span",13),s.yc(1),s.wc(2,st,2,0,"span",14),s.Sb()),2&t){var i=e.$implicit,n=e.index,o=s.dc(3);s.Ab(1),s.zc(" "+i),s.Ab(1),s.gc("ngIf",n!=o.projekat.libraries.length-1)}}function at(t,e){if(1&t&&(s.Tb(0,"div",11),s.yc(1,"Library: "),s.wc(2,rt,3,2,"span",12),s.Sb()),2&t){var i=s.dc(2);s.Ab(2),s.gc("ngForOf",i.projekat.libraries)}}function lt(t,e){if(1&t&&(s.Tb(0,"div",11),s.yc(1,"Description: "),s.Tb(2,"span",13),s.yc(3),s.Sb(),s.Sb()),2&t){var i=s.dc(2);s.Ab(3),s.zc(i.projekat.description)}}function ct(t,e){if(1&t&&(s.Tb(0,"div",11),s.yc(1,"GitHub: "),s.Tb(2,"a",15),s.yc(3),s.Sb(),s.Sb()),2&t){var i=s.dc(2);s.Ab(2),s.gc("href",i.projekat.github,s.rc),s.Ab(1),s.zc(i.projekat.github)}}function ut(t,e){if(1&t){var i=s.Ub();s.Tb(0,"div",16),s.Tb(1,"img",17),s.bc("click",(function(){s.pc(i);var t=e.$implicit;return s.dc(2).openImageModalRowDescription(t)})),s.Sb(),s.Sb()}if(2&t){var n=e.$implicit;s.Ab(1),s.gc("src",n.modal.img,s.rc)}}function ht(t,e){if(1&t&&(s.Tb(0,"div",1),s.Tb(1,"div",2),s.Tb(2,"div",3),s.yc(3),s.Sb(),s.Tb(4,"div",4),s.Ob(5,"i",5),s.Sb(),s.Sb(),s.Tb(6,"div",6),s.wc(7,tt,3,1,"div",7),s.wc(8,nt,3,1,"div",7),s.wc(9,ot,4,1,"div",7),s.wc(10,at,3,1,"div",7),s.wc(11,lt,4,1,"div",7),s.wc(12,ct,4,2,"div",7),s.Sb(),s.Tb(13,"div",8),s.yc(14,"Gallery\n"),s.Ob(15,"br"),s.wc(16,ut,2,1,"div",9),s.Sb(),s.Ob(17,"ks-modal-gallery",10),s.Sb()),2&t){var i=s.dc();s.Ab(3),s.Ac("",i.projekat.title," "),s.Ab(4),s.gc("ngIf",i.projekat.languages.length>0),s.Ab(1),s.gc("ngIf",i.projekat.freamworks.length>0),s.Ab(1),s.gc("ngIf",i.projekat.database),s.Ab(1),s.gc("ngIf",i.projekat.libraries.length>0),s.Ab(1),s.gc("ngIf",i.projekat.description),s.Ab(1),s.gc("ngIf",i.projekat.github),s.Ab(4),s.gc("ngForOf",i.images),s.Ab(1),s.gc("id",0)("modalImages",i.images)("plainGalleryConfig",i.customPlainGalleryRowDescConfig)}}var pt,gt=((pt=function(){function t(e,i,n,o,s){_classCallCheck(this,t),this.galleryService=e,this.sanitizer=i,this.route=n,this.router=o,this.projectService=s,this.imageIndex=1,this.galleryId=1,this.isPlaying=!0,this.images=[new K.h(0,{img:"https://raw.githubusercontent.com/Ks89/angular-modal-gallery/master/examples/systemjs/assets/images/gallery/img1.jpg",extUrl:"http://www.google.com"}),new K.h(1,{img:"https://raw.githubusercontent.com/Ks89/angular-modal-gallery/master/examples/systemjs/assets/images/gallery/img2.png",description:"Description 2"}),new K.h(2,{img:"https://raw.githubusercontent.com/Ks89/angular-modal-gallery/master/examples/systemjs/assets/images/gallery/img3.jpg",description:"Description 3",extUrl:"http://www.google.com"},{img:"https://raw.githubusercontent.com/Ks89/angular-modal-gallery/master/examples/systemjs/assets/images/gallery/thumbs/img3.png",title:"custom title 2",alt:"custom alt 2",ariaLabel:"arial label 2"}),new K.h(3,{img:"https://raw.githubusercontent.com/Ks89/angular-modal-gallery/master/examples/systemjs/assets/images/gallery/img4.jpg",description:"Description 4",extUrl:"http://www.google.com"}),new K.h(4,{img:"https://raw.githubusercontent.com/Ks89/angular-modal-gallery/master/examples/systemjs/assets/images/gallery/img5.jpg"},{img:"https://raw.githubusercontent.com/Ks89/angular-modal-gallery/master/examples/systemjs/assets/images/gallery/thumbs/img5.jpg"})],this.sameImages=[new K.h(0,{img:"https://raw.githubusercontent.com/Ks89/angular-modal-gallery/master/examples/systemjs/assets/images/gallery/img1.jpg?1",extUrl:"http://www.google.com"}),new K.h(1,{img:"https://raw.githubusercontent.com/Ks89/angular-modal-gallery/master/examples/systemjs/assets/images/gallery/img1.jpg?2",extUrl:"http://www.google.com"}),new K.h(2,{img:"https://raw.githubusercontent.com/Ks89/angular-modal-gallery/master/examples/systemjs/assets/images/gallery/img1.jpg?3",extUrl:"http://www.google.com"})],this.base64String="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABN0lEQVR4nO3SQQ2AQBDAwAVlaMEhCkAVb2RcQmcU9NEZAAAAAOD/tvN675k5VoewxLOvLmAtA8QZIM4AcQaIM0CcAeIMEGeAOAPEGSDOAHEGiDNAnAHiDBBngDgDxBkgzgBxBogzQJwB4gwQZ4A4A8QZIM4AcQaIM0CcAeIMEGeAOAPEGSDOAHEGiDNAnAHiDBBngDgDxBkgzgBxBogzQJwB4gwQZ4A4A8QZIM4AcQaIM0CcAeIMEGeAOAPEGSDOAHEGiDNAnAHiDBBngDgDxBkgzgBxBogzQJwB4gwQZ4A4A8QZIM4AcQaIM0CcAeIMEGeAOAPEGSDOAHEGiDNAnAHiDBBngDgDxBkgzgBxBogzQJwB4gwQZ4A4A8QZIM4AcQaIM0CcAeIMEGeAOAPEGQAAAAAA4Pc+8asEoPPGqxUAAAAASUVORK5CYII",this.base64RedString="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAY1BMVEX/AAD/////WVn/+vr/qan/Nzf/ERH/2tr/s7P/KSn/7+//vr7/0ND/W1v/6+v/m5v/4+P/U1P/HR3/o6P/rq7/g4P/k5P/t7f/dXX/SEj/zMz/ZWX/h4f/bm7/amr/np7/yMhDG/2oAAAC8ElEQVR4nO3dC3KqQBCF4WkHERHFRyKIL/a/ymDuVYMMFipTbbfnW8H5S4lQVGUMaWe4B3iHQvlQKB8K5UOhfCiUD4XyoVA+FJ7Myijd5dvBO9nmuzQqZ68X2mI9NO9suC7s84VxNuAO6GSQxU8VJvuQe3pn4T55uLDYcK9+0KZ4qDB574vPbej+HF2Fcc499km563p0FAbcQ18QdCi0B+6VLzk0fjtuC0dj7o0vGo/uF064B/agvFcYca/rRdReeOTe1pNjW6HkP6J1gbtQwzV4NnEVJtyrepU0C2M599ldhHGjcMq9qWfT28KUe1Hv0nrhnHuPB/Na4YJ7jgeLv4UZ9xovsmuhXXKP8WJpL4Ur7i2erC6Fun4Kr8Jz4Rf3Em++/hdKf+htN/5XqOuGtC75LfzmnuHR96nQ6v2SVl9TWxVq/pKevqaG1twjvFpXhTLeLz1rQMZyb/DMmhH3BM9GRudjxVVmtN51n62M1DdpXeVG2rveR22MxLe9jxgazfdsJ2Oj9en3THsfAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgHba/+98+AFnI+g/30L/GSX6z5nRf1aQ/vOe9J/Zpf/cNf1n533A+Yf6z7DUfw6p/rNkVX9Nkw850/kDzuXWf7Y6ab37Xl0K7ZJ7ixdLeykknQ8YGV0LacG9xoMF/S2cc8/xYF4rpJR7T+9SqhfSlHtRz6Z0Wxjr+lEM40ahstvThJqFNOFe1aMJuQop4N7Vm4DchXTkXtaTI7UVUsS9rRcRtRequBZLuldII+mPw+MR3S8ke+De+JKDvQ1qFMr+kxo0cxyFFEt945bHjhpXYXV/I/HN8DBxtrgLiQpp74Y3RUtJW2H1Oe7l3IuHe/fnd7+wuh4zGe+lBpnr+utSWLHF+r0vyeG6aPw+PFT4a1ZG6S7fDt7JNt+lUTnrsL5LoWwolA+F8qFQPhTKh0L5UCgfCuVDoXw/lnQz7dm7GjoAAAAASUVORK5CYII=",this.base64GreenString="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIAgMAAADQNkYNAAAADFBMVEUAAAAy/ysy/ysy/ysyTcibAAAAA3RSTlMA2r/af0dWAAAAQUlEQVRo3u3YMREAMAzEsJAMyZJsMXy3XORdBFySJK3qxFXH1Y1DEARBEARBEARBEARBEARBkNmk436mvSRJ0o4eOKL2P81eyn8AAAAASUVORK5CYII=",this.base64Image=this.sanitizer.bypassSecurityTrustResourceUrl(this.base64String),this.base64RedImage=this.sanitizer.bypassSecurityTrustResourceUrl(this.base64RedString),this.base64GreenImage=this.sanitizer.bypassSecurityTrustResourceUrl(this.base64GreenString),this.imagesBase64=[new K.h(0,{img:this.base64Image,extUrl:"http://www.google.com"}),new K.h(1,{img:this.base64GreenImage,description:"Description 2"}),new K.h(2,{img:this.base64RedImage,description:"Description 3",extUrl:"http://www.google.com"},{img:this.base64RedImage,title:"custom title 2",alt:"custom alt 2",ariaLabel:"arial label 2"})],this.imagesCustomDownloadFileName=[new K.h(0,{img:"https://raw.githubusercontent.com/Ks89/angular-modal-gallery/master/examples/systemjs/assets/images/gallery/img1.jpg",downloadFileName:"first-img.jpg"}),new K.h(1,{img:this.base64Image,downloadFileName:"second-img-base64.jpg"})],this.imagesRect=[new K.h(0,{img:"https://images.bgit.rs/1581333725/desktop/blog-large/419frontend-blog.jpg",description:"Description 1"},{img:"https://images.bgit.rs/1581333725/desktop/blog-large/419frontend-blog.jpg"}),new K.h(1,{img:"https://raw.githubusercontent.com/Ks89/angular-modal-gallery/master/examples/systemjs/assets/images/gallery/pexels-photo-47223.jpeg"},{img:"https://raw.githubusercontent.com/Ks89/angular-modal-gallery/master/examples/systemjs/assets/images/gallery/thumbs/t-pexels-photo-47223.jpg"}),new K.h(2,{img:"https://raw.githubusercontent.com/Ks89/angular-modal-gallery/master/examples/systemjs/assets/images/gallery/pexels-photo-52062.jpeg",description:"Description 3"},{img:"https://raw.githubusercontent.com/Ks89/angular-modal-gallery/master/examples/systemjs/assets/images/gallery/thumbs/t-pexels-photo-52062.jpg",description:"Description 3"}),new K.h(3,{img:"https://raw.githubusercontent.com/Ks89/angular-modal-gallery/master/examples/systemjs/assets/images/gallery/pexels-photo-66943.jpeg",description:"Description 4"},{img:"https://raw.githubusercontent.com/Ks89/angular-modal-gallery/master/examples/systemjs/assets/images/gallery/thumbs/t-pexels-photo-66943.jpg"}),new K.h(4,{img:"https://raw.githubusercontent.com/Ks89/angular-modal-gallery/master/examples/systemjs/assets/images/gallery/pexels-photo-93750.jpeg"},{img:"https://raw.githubusercontent.com/Ks89/angular-modal-gallery/master/examples/systemjs/assets/images/gallery/thumbs/t-pexels-photo-93750.jpg"}),new K.h(5,{img:"https://raw.githubusercontent.com/Ks89/angular-modal-gallery/master/examples/systemjs/assets/images/gallery/pexels-photo-94420.jpeg",description:"Description 6"},{img:"https://raw.githubusercontent.com/Ks89/angular-modal-gallery/master/examples/systemjs/assets/images/gallery/thumbs/t-pexels-photo-94420.jpg"})],this.singleImage=[this.images[0]],this.imagesInfiniteAutoAdd=[new K.h(0,{img:"https://raw.githubusercontent.com/Ks89/angular-modal-gallery/master/examples/systemjs/assets/images/gallery/img1.jpg?1",extUrl:"http://www.google.com"})],this.dotsConfig={visible:!1},this.customDescription={strategy:K.e.ALWAYS_VISIBLE,imageText:"Look this image ",numberSeparator:" of ",beforeTextDescription:" => "},this.customDescriptionStyle={strategy:K.e.ALWAYS_VISIBLE,imageText:"Look this image ",numberSeparator:" of ",beforeTextDescription:" => ",style:{bgColor:"rgba(255,0,0,.5)",textColor:"blue",marginTop:"3px",marginBottom:"0px",marginLeft:"5px",marginRight:"5px",position:"absolute",top:"0px",height:"25px"}},this.customDescriptionHideIfEmpty={strategy:K.e.HIDE_IF_EMPTY,imageText:"Look this image ",numberSeparator:" of ",beforeTextDescription:" => "},this.customFullDescription={strategy:K.e.ALWAYS_VISIBLE,customFullDescription:"Custom description of the current visible image"},this.customFullDescriptionHidden={strategy:K.e.ALWAYS_HIDDEN,customFullDescription:"Custom description of the current visible image"},this.buttonsConfigDefault={visible:!0,strategy:K.d.DEFAULT},this.buttonsConfigSimple={visible:!0,strategy:K.d.SIMPLE},this.buttonsConfigAdvanced={visible:!0,strategy:K.d.ADVANCED},this.buttonsConfigFull={visible:!0,strategy:K.d.FULL},this.buttonsConfigCustom={visible:!0,strategy:K.d.CUSTOM,buttons:[K.m,K.j,K.l,K.k,K.i]},this.customButtonsConfigExtUrlNewTab={visible:!0,strategy:K.d.CUSTOM,buttons:[{className:"ext-url-image",type:K.c.EXTURL,extUrlInNewTab:!0},{className:"download-image",type:K.c.DOWNLOAD},{className:"close-image",type:K.c.CLOSE}]},this.customButtonsFontAwesomeConfig={visible:!0,strategy:K.d.CUSTOM,buttons:[{className:"fas fa-plus white",type:K.c.CUSTOM,ariaLabel:"custom plus aria label",title:"custom plus title",fontSize:"20px"},{className:"fas fa-times white",type:K.c.CLOSE,ariaLabel:"custom close aria label",title:"custom close title",fontSize:"20px"},{className:"fas fa-download white",type:K.c.DOWNLOAD,ariaLabel:"custom download aria label",title:"custom download title",fontSize:"20px"},{className:"fas fa-external-link-alt white",type:K.c.EXTURL,ariaLabel:"custom exturl aria label",title:"custom exturl title",fontSize:"20px"}]},this.previewConfigOneImage={visible:!0,number:1},this.previewConfigFiveImages={visible:!0,number:5},this.previewConfigNoArrows={visible:!0,arrows:!1},this.previewConfigNoClickable={visible:!0,clickable:!1},this.previewConfigAlwaysCenter={visible:!0},this.previewConfigCustomSize={visible:!0,size:{width:"30px",height:"30px"}},this.currentImageConfigExperimental={loadingConfig:{enable:!0,type:K.n.STANDARD},description:{strategy:K.e.ALWAYS_VISIBLE}},this.accessibilityConfig={backgroundAriaLabel:"CUSTOM Modal gallery full screen background",backgroundTitle:"CUSTOM background title",plainGalleryContentAriaLabel:"CUSTOM Plain gallery content",plainGalleryContentTitle:"CUSTOM plain gallery content title",modalGalleryContentAriaLabel:"CUSTOM Modal gallery content",modalGalleryContentTitle:"CUSTOM modal gallery content title",loadingSpinnerAriaLabel:"CUSTOM The current image is loading. Please be patient.",loadingSpinnerTitle:"CUSTOM The current image is loading. Please be patient.",mainContainerAriaLabel:"CUSTOM Current image and navigation",mainContainerTitle:"CUSTOM main container title",mainPrevImageAriaLabel:"CUSTOM Previous image",mainPrevImageTitle:"CUSTOM Previous image",mainNextImageAriaLabel:"CUSTOM Next image",mainNextImageTitle:"CUSTOM Next image",dotsContainerAriaLabel:"CUSTOM Image navigation dots",dotsContainerTitle:"CUSTOM dots container title",dotAriaLabel:"CUSTOM Navigate to image number",previewsContainerAriaLabel:"CUSTOM Image previews",previewsContainerTitle:"CUSTOM previews title",previewScrollPrevAriaLabel:"CUSTOM Scroll previous previews",previewScrollPrevTitle:"CUSTOM Scroll previous previews",previewScrollNextAriaLabel:"CUSTOM Scroll next previews",previewScrollNextTitle:"CUSTOM Scroll next previews",carouselContainerAriaLabel:"Current image and navigation",carouselContainerTitle:"",carouselPrevImageAriaLabel:"Previous image",carouselPrevImageTitle:"Previous image",carouselNextImageAriaLabel:"Next image",carouselNextImageTitle:"Next image",carouselPreviewsContainerAriaLabel:"Image previews",carouselPreviewsContainerTitle:"",carouselPreviewScrollPrevAriaLabel:"Scroll previous previews",carouselPreviewScrollPrevTitle:"Scroll previous previews",carouselPreviewScrollNextAriaLabel:"Scroll next previews",carouselPreviewScrollNextTitle:"Scroll next previews"},this.count=0,this.isShownAutoNavigate=!1,this.customPlainGalleryRowDescConfig={strategy:K.o.CUSTOM,layout:new K.b(-1,!0)}}return _createClass(t,[{key:"onButtonBeforeHook",value:function(t){console.log("onButtonBeforeHook ",t),t&&t.button&&t.button.type===K.c.DELETE&&(console.log("delete in app with images count "+this.images.length),this.images=this.images.filter((function(e){return t.image&&e.id!==t.image.id})))}},{key:"onButtonAfterHook",value:function(t){console.log("onButtonAfterHook ",t)}},{key:"onCustomButtonBeforeHook",value:function(t,e){var i=this;console.log("onCustomButtonBeforeHook with galleryId="+e+" and event: ",t),t&&t.button&&t.button.type===K.c.CUSTOM&&(console.log("adding a new random image at the end"),this.addRandomImage(),setTimeout((function(){i.galleryService.openGallery(e,i.images.length-1)}),0))}},{key:"onCustomButtonAfterHook",value:function(t,e){console.log("onCustomButtonAfterHook with galleryId="+e+" and event: ",t)}},{key:"onImageLoaded",value:function(t){console.log("onImageLoaded action: "+K.a[t.action]),console.log("onImageLoaded result:"+t.result)}},{key:"onVisibleIndex",value:function(t){console.log("onVisibleIndex action: "+K.a[t.action]),console.log("onVisibleIndex result:"+t.result)}},{key:"onIsFirstImage",value:function(t){console.log("onIsFirstImage onfirst action: "+K.a[t.action]),console.log("onIsFirstImage onfirst result:"+t.result)}},{key:"onIsLastImage",value:function(t){console.log("onIsLastImage onlast action: "+K.a[t.action]),console.log("onIsLastImage onlast result:"+t.result)}},{key:"onCloseImageModal",value:function(t){console.log("onClose action: "+K.a[t.action]),console.log("onClose result:"+t.result)}},{key:"onShowAutoCloseExample",value:function(t,e){var i=this;console.log("onShowAutoCloseExample with id=".concat(e," action: ")+K.a[t.action]),console.log("onShowAutoCloseExample result:"+t.result),console.log("Starting timeout of 3 second to close modal gallery automatically"),setTimeout((function(){console.log("setTimeout end - closing gallery with id="+e),i.galleryService.closeGallery(e)}),3e3)}},{key:"onShowAutoNavigateExample",value:function(t,e){var i=this;this.isShownAutoNavigate||(console.log("onShowAutoNavigateExample with id=".concat(e," action: ")+K.a[t.action]),console.log("onShowAutoNavigateExample result:"+t.result),console.log("Starting timeout of 3 second to navigate to image 0 and then to the next every second automatically"),setTimeout((function(){i.isShownAutoNavigate=!0,console.log("setTimeout end - navigating to index 0, gallery with id="+e),i.galleryService.navigateGallery(e,0),setTimeout((function(){console.log("setTimeout end - navigating to index 1, gallery with id="+e),i.galleryService.navigateGallery(e,1),setTimeout((function(){console.log("setTimeout end - navigating to index 2 (finished :) !), gallery with id="+e),i.galleryService.navigateGallery(e,2)}),3e3)}),3e3)}),3e3))}},{key:"addRandomImage",value:function(){var t=this.images[Math.floor(Math.random()*this.images.length)],e=new K.h(this.images.length-1+1,t.modal,t.plain);this.images=[].concat(_toConsumableArray(this.images),[e])}},{key:"openModalViaService",value:function(t,e){console.log("opening gallery with index "+e),this.galleryService.openGallery(t,e)}},{key:"autoAddImage",value:function(){var t=this;if(0===this.count)var e=setInterval((function(){var i=t.images[Math.floor(Math.random()*t.images.length)],n=new K.h(t.imagesInfiniteAutoAdd.length-1+1,i.modal,i.plain);n.modal.img+="?"+(t.imagesInfiniteAutoAdd.length+1),t.imagesInfiniteAutoAdd=[].concat(_toConsumableArray(t.imagesInfiniteAutoAdd),[n]),t.count++,4===t.count&&clearInterval(e)}),2e3)}},{key:"autoUpdateImage",value:function(t,e){var i=this;console.log("updating image at index "+e+", after 2 seconds");var n=new K.h(1,{img:"https://raw.githubusercontent.com/Ks89/angular-modal-gallery/master/examples/systemjs/assets/images/gallery/img5.jpg",description:"Description 2 updated with imag5.jpg"});setTimeout((function(){console.log("image updated"),i.galleryService.updateGallery(t,e,n)}),2e3)}},{key:"trackById",value:function(t,e){return e.id}},{key:"autoPlayButton",value:function(t){return this.isPlaying?this.galleryService.stop(t):this.galleryService.play(t),this.isPlaying=!this.isPlaying,this.isPlaying}},{key:"openImageModalRowDescription",value:function(t){console.log("Opening modal gallery from custom plain gallery row and description, with image: ",t);var e=this.getCurrentIndexCustomLayout(t,this.images);this.customPlainGalleryRowDescConfig=Object.assign({},this.customPlainGalleryRowDescConfig,{layout:new K.b(e,!0)})}},{key:"getCurrentIndexCustomLayout",value:function(t,e){return t?e.indexOf(t):-1}},{key:"ngOnInit",value:function(){var t=this;this.route.params.subscribe((function(e){t.projekat=t.projectService.getProject(e.project),null===t.projekat?t.router.navigateByUrl("/resume"):t.images=t.projekat.pictures}))}}]),t}()).\u0275fac=function(t){return new(t||pt)(s.Nb(K.g),s.Nb(q.b),s.Nb(Q.a),s.Nb(Q.b),s.Nb(Z.a))},pt.\u0275cmp=s.Hb({type:pt,selectors:[["project1-root"]],decls:1,vars:1,consts:[["style","margin: 0 20px 0px 30px;",4,"ngIf"],[2,"margin","0 20px 0px 30px"],["id","myDIV",1,"row",2,"border-bottom","1px solid silver","margin-bottom","10px"],[1,"col-md-11","font-title",2,"padding-left","0%","color","white"],[1,"col-md-1","back"],["routerLink","../",1,"fa","fa-arrow-left",2,"color","silver","font-size","20px","margin-top","5px"],[1,"font-text",2,"margin-top","15px","line-height","normal"],["style","color: white; margin-bottom: 5px;",4,"ngIf"],[1,"position","font-title",2,"bottom","0","bottom","0px","width","100%","color","white","position","relative"],["style","display:inline-block; flex-wrap: wrap; margin-right: 20px;",4,"ngFor","ngForOf"],[2,"font-size","20px",3,"id","modalImages","plainGalleryConfig"],[2,"color","white","margin-bottom","5px"],["style","color:gray",4,"ngFor","ngForOf"],[2,"color","gray"],[4,"ngIf"],["target","_blank",2,"color","silver",3,"href"],[2,"display","inline-block","flex-wrap","wrap","margin-right","20px"],[1,"pic-size",2,"margin","0px 0px 10px 0px",3,"src","click"]],template:function(t,e){1&t&&s.wc(0,ht,18,11,"div",0),2&t&&s.gc("ngIf",null!=e.projekat)},directives:[o.j,Q.c,o.i,K.p],styles:[".my-app-custom-plain-container-row[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row;justify-content:flex-start}.my-app-custom-plain-container-row[_ngcontent-%COMP%]   .my-app-custom-image-row[_ngcontent-%COMP%]{cursor:pointer;height:auto;margin-right:2px;width:50px}.my-app-custom-plain-container-row[_ngcontent-%COMP%]   .my-app-custom-image-row.after[_ngcontent-%COMP%]{border-top:2px;cursor:pointer;display:none;height:100%;left:0;position:absolute;top:0;width:100%}.my-app-custom-plain-container-column[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:flex-start}.my-app-custom-plain-container-column[_ngcontent-%COMP%]   .my-app-custom-image-column[_ngcontent-%COMP%]{cursor:pointer;height:auto;margin-right:2px;width:50px}.my-app-custom-plain-container-column[_ngcontent-%COMP%]   .my-app-custom-image-column.after[_ngcontent-%COMP%]{border-top:2px;cursor:pointer;display:none;height:100%;left:0;position:absolute;top:0;width:100%}.my-app-custom-plain-container-with-desc[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{margin:0;position:relative}.my-app-custom-plain-container-with-desc[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;cursor:pointer}.my-app-custom-plain-container-with-desc[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   figcaption[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);color:#fff;font-size:85%;padding:5px;position:absolute;bottom:3px;left:0;right:0}.my-app-custom-plain-container-with-desc[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-weight:700;text-align:center}.my-app-custom-plain-container-with-desc[_ngcontent-%COMP%]   .my-app-custom-image-with-desc[_ngcontent-%COMP%]{height:auto;margin-right:2px;min-width:80px;align-self:start}.more[_ngcontent-%COMP%]{background:rgba(0,0,0,.7);cursor:pointer;padding-top:4px;height:46px;width:50px}.more[_ngcontent-%COMP%], .transcluded[_ngcontent-%COMP%]{color:#fff;position:absolute;text-align:center}.transcluded[_ngcontent-%COMP%]{font-weight:600;font-size:24px;top:50%;width:100%;pointer-events:none}.title[_ngcontent-%COMP%]{margin-top:40px}.my-app-custom-plain-container-with-desc[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row;justify-content:flex-start}figure[_ngcontent-%COMP%]{margin:0;position:relative}img[_ngcontent-%COMP%]{max-width:100%;height:auto;cursor:pointer}figcaption[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);color:#fff;font-size:85%;padding:5px;position:absolute;bottom:3px;left:0;right:0}.description[_ngcontent-%COMP%]{font-weight:400;text-align:center}.my-app-custom-image-with-desc[_ngcontent-%COMP%]{height:auto;margin-right:2px;width:200px;align-self:start}.position[_ngcontent-%COMP%]{position:absolute}@media only screen and (min-width:767px){.font-title[_ngcontent-%COMP%]{font-size:2vw}.font-subtitle[_ngcontent-%COMP%]{font-size:1.3vw}.font-text[_ngcontent-%COMP%]{font-size:1.1vw}.pic-size[_ngcontent-%COMP%]{width:8vw;height:8vh}}@media only screen and (max-width:767px){.font-title[_ngcontent-%COMP%]{font-size:30px}.font-subtitle[_ngcontent-%COMP%]{font-size:25px}.font-text[_ngcontent-%COMP%]{font-size:17px}.position[_ngcontent-%COMP%]{position:unset}.back[_ngcontent-%COMP%]{display:none}.pic-size[_ngcontent-%COMP%]{width:20vw;height:10vh}}"]}),pt),dt=function(t){return[t]};function mt(t,e){if(1&t&&(s.Tb(0,"div",5),s.Tb(1,"div",6),s.Ob(2,"div"),s.Tb(3,"div",7),s.Tb(4,"div",8),s.yc(5,"View Details"),s.Sb(),s.Tb(6,"a",9),s.Ob(7,"span",10),s.Sb(),s.Sb(),s.Sb(),s.Tb(8,"div",11),s.Tb(9,"div",12),s.yc(10),s.Sb(),s.Tb(11,"div",13),s.yc(12),s.Sb(),s.Tb(13,"div",14),s.Ob(14,"i",15),s.Sb(),s.Sb(),s.Sb()),2&t){var i=e.$implicit;s.Ab(2),s.vc("background","url("+i.url+")",s.Gb)("background-size","100% 100%")("padding-bottom","60%"),s.Ab(2),s.gc("routerLink",s.jc(11,dt,i.title)),s.Ab(2),s.gc("href",i.github,s.rc),s.Ab(2),s.gc("routerLink",s.jc(13,dt,i.title)),s.Ab(2),s.zc(i.title),s.Ab(2),s.Ac("",i.description.substring(0,50),"...")}}var ft,vt,yt=((vt=function(){function t(e){_classCallCheck(this,t),this.service=e}return _createClass(t,[{key:"ngOnInit",value:function(){this.projekti=this.service.getAllProjects()}}]),t}()).\u0275fac=function(t){return new(t||vt)(s.Nb(Z.a))},vt.\u0275cmp=s.Hb({type:vt,selectors:[["projects-root"]],decls:6,vars:1,consts:[[2,"margin","0 20px 0px 30px"],[1,"row",2,"border-bottom","1px solid silver","margin-bottom","10px"],[1,"about-title","font-title"],[1,"row"],["class","col-md-6",4,"ngFor","ngForOf"],[1,"col-md-6"],[1,"image-container",2,"padding-left","30px","padding-right","30px"],[1,"overlay"],[1,"button","button-primary","font-subtitle",2,"color","white",3,"routerLink"],["target","_blank",1,"button","button-primary","font-title",2,"color","white",3,"href"],[1,"fa","fa-github"],[1,"product-details",2,"margin-left","30px","margin-right","30px","cursor","pointer",3,"routerLink"],[1,"product-title","font-subtitle",2,"color","white"],[1,"product-brand","font-text"],[2,"text-align","right","font-size","20px"],[1,"fa","fa-angle-right"]],template:function(t,e){1&t&&(s.Tb(0,"div",0),s.Tb(1,"div",1),s.Tb(2,"h3",2),s.yc(3,"Projects"),s.Sb(),s.Sb(),s.Tb(4,"div",3),s.wc(5,mt,15,15,"div",4),s.Sb(),s.Sb()),2&t&&(s.Ab(5),s.gc("ngForOf",e.projekti))},directives:[o.i,Q.c],styles:[".about-title[_ngcontent-%COMP%]{line-height:30px;color:#fff}.header-block[_ngcontent-%COMP%]{height:100%;background-color:#3a3a35;color:#fff;width:50%;margin:auto;border-color:#fff;border-style:solid;border-width:0 15px;display:table}.header-text[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;display:table-cell}.header-text-title[_ngcontent-%COMP%]{display:inline-block;font-size:30px;font-weight:500;padding-bottom:10px;border-bottom:1px solid #fff}.header-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:10px 40px}.layout-container[_ngcontent-%COMP%]{max-width:1140px;padding-right:30px;padding-left:30px;margin-right:auto;margin-left:auto}.product-grid[_ngcontent-%COMP%]{padding-top:5%;padding-bottom:5%}.product-image[_ngcontent-%COMP%]{height:100px;background-size:100% 100%}.image-container[_ngcontent-%COMP%]{position:relative}.image-container[_ngcontent-%COMP%]:hover   .product-image[_ngcontent-%COMP%]{opacity:.3;background-size:120%}.image-container[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{opacity:1}.overlay[_ngcontent-%COMP%]{transition:.5s ease;opacity:0;position:absolute;top:50%;left:50%;text-align:center;transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%)}.overlay[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:160px;line-height:38px}.overlay[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:first-child{margin-bottom:2em}.product-details[_ngcontent-%COMP%]{padding-top:15px;text-align:center;margin-bottom:40px}.product-brand[_ngcontent-%COMP%]{display:block;margin:.5em 0;color:#7d7d7d;text-align:left}.product-title[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.05em;margin-top:0;margin-bottom:.5em;font-size:1em;line-height:1.2;font-weight:400;font-family:Roboto;text-align:left}.product-price[_ngcontent-%COMP%]{font-size:1.14286em;color:#9f9f9f;font-family:Playfair Display}.klasa[_ngcontent-%COMP%]{background-size:100% 100%;padding-bottom:50%}@media only screen and (min-width:767px){.font-title[_ngcontent-%COMP%]{font-size:2vw}.font-subtitle[_ngcontent-%COMP%]{font-size:1.3vw}.font-text[_ngcontent-%COMP%]{font-size:1.1vw}}@media only screen and (max-width:767px){.font-title[_ngcontent-%COMP%]{font-size:30px}.font-subtitle[_ngcontent-%COMP%]{font-size:25px}.font-text[_ngcontent-%COMP%]{font-size:17px}.header-block[_ngcontent-%COMP%]{width:100%}}"]}),vt),bt=((ft=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||ft)},ft.\u0275cmp=s.Hb({type:ft,selectors:[["projects-root"]],decls:1,vars:0,template:function(t,e){1&t&&s.Ob(0,"router-outlet")},directives:[Q.g],styles:[""]}),ft);i("DH7j"),i("lJxs"),i("XoHu"),i("Cfvw");var Ct,wt,At,Tt=((At=function(){function t(){_classCallCheck(this,t),this._accessors=[]}return _createClass(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(i){e._isSameGroup(i,t)&&i[1]!==t&&i[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||At)},At.\u0275prov=s.Jb({token:At,factory:At.\u0275fac}),At),xt=((wt=function t(){_classCallCheck(this,t)}).\u0275mod=s.Lb({type:wt}),wt.\u0275inj=s.Kb({factory:function(t){return new(t||wt)}}),wt),kt=((Ct=function t(){_classCallCheck(this,t)}).\u0275mod=s.Lb({type:Ct}),Ct.\u0275inj=s.Kb({factory:function(t){return new(t||Ct)},providers:[Tt],imports:[xt]}),Ct);i("yLV6"),i("imBb");var Pt,St=((Pt=function t(){_classCallCheck(this,t)}).\u0275mod=s.Lb({type:Pt}),Pt.\u0275inj=s.Kb({factory:function(t){return new(t||Pt)},providers:[],imports:[[o.b,kt,K.f.forRoot(),V,Q.f.forChild([{path:"",component:bt,children:[{path:"",component:yt},{path:":project",component:gt}]}])]]}),Pt)},yLV6:function(t,e,i){var n;!function(o,s,r,a){"use strict";var l,c=["","webkit","Moz","MS","ms","o"],u=s.createElement("div"),h=Math.round,p=Math.abs,g=Date.now;function d(t,e,i){return setTimeout(w(t,i),e)}function m(t,e,i){return!!Array.isArray(t)&&(f(t,i[e],i),!0)}function f(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function v(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=o.console&&(o.console.warn||o.console.log);return s&&s.call(o.console,n,i),t.apply(this,arguments)}}l="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e}:Object.assign;var y=v((function(t,e,i){for(var n=Object.keys(e),o=0;o<n.length;)(!i||i&&void 0===t[n[o]])&&(t[n[o]]=e[n[o]]),o++;return t}),"extend","Use `assign`."),b=v((function(t,e){return y(t,e,!0)}),"merge","Use `assign`.");function C(t,e,i){var n,o=e.prototype;(n=t.prototype=Object.create(o)).constructor=t,n._super=o,i&&l(n,i)}function w(t,e){return function(){return t.apply(e,arguments)}}function A(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function T(t,e){return void 0===t?e:t}function x(t,e,i){f(_(e),(function(e){t.addEventListener(e,i,!1)}))}function k(t,e,i){f(_(e),(function(e){t.removeEventListener(e,i,!1)}))}function P(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function S(t,e){return t.indexOf(e)>-1}function _(t){return t.trim().split(/\s+/g)}function I(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function O(t){return Array.prototype.slice.call(t,0)}function M(t,e,i){for(var n=[],o=[],s=0;s<t.length;){var r=e?t[s][e]:t[s];I(o,r)<0&&n.push(t[s]),o[s]=r,s++}return i&&(n=e?n.sort((function(t,i){return t[e]>i[e]})):n.sort()),n}function E(t,e){for(var i,n,o=e[0].toUpperCase()+e.slice(1),s=0;s<c.length;){if((n=(i=c[s])?i+o:e)in t)return n;s++}}var L=1;function D(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}var j="ontouchstart"in o,N=void 0!==E(o,"PointerEvent"),z=j&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),R=["x","y"],F=["clientX","clientY"];function H(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){A(t.options.enable,[t])&&i.handler(e)},this.init()}function U(t,e,i){var n=i.pointers.length,o=i.changedPointers.length,s=1&e&&n-o==0,r=12&e&&n-o==0;i.isFirst=!!s,i.isFinal=!!r,s&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,n=e.pointers,o=n.length;i.firstInput||(i.firstInput=W(e)),o>1&&!i.firstMultiple?i.firstMultiple=W(e):1===o&&(i.firstMultiple=!1);var s=i.firstInput,r=i.firstMultiple,a=r?r.center:s.center,l=e.center=X(n);e.timeStamp=g(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=V(a,l),e.distance=Y(a,l),function(t,e){var i=e.center,n=t.offsetDelta||{},o=t.prevDelta||{},s=t.prevInput||{};1!==e.eventType&&4!==s.eventType||(o=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=o.x+(i.x-n.x),e.deltaY=o.y+(i.y-n.y)}(i,e),e.offsetDirection=G(e.deltaX,e.deltaY);var c,u,h=B(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=p(h.x)>p(h.y)?h.x:h.y,e.scale=r?(c=r.pointers,Y((u=n)[0],u[1],F)/Y(c[0],c[1],F)):1,e.rotation=r?function(t,e){return V(e[1],e[0],F)+V(t[1],t[0],F)}(r.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,n,o,s,r=t.lastInterval||e,a=e.timeStamp-r.timeStamp;if(8!=e.eventType&&(a>25||void 0===r.velocity)){var l=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,u=B(a,l,c);n=u.x,o=u.y,i=p(u.x)>p(u.y)?u.x:u.y,s=G(l,c),t.lastInterval=e}else i=r.velocity,n=r.velocityX,o=r.velocityY,s=r.direction;e.velocity=i,e.velocityX=n,e.velocityY=o,e.direction=s}(i,e);var d=t.element;P(e.srcEvent.target,d)&&(d=e.srcEvent.target),e.target=d}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function W(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:h(t.pointers[i].clientX),clientY:h(t.pointers[i].clientY)},i++;return{timeStamp:g(),pointers:e,center:X(e),deltaX:t.deltaX,deltaY:t.deltaY}}function X(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var i=0,n=0,o=0;o<e;)i+=t[o].clientX,n+=t[o].clientY,o++;return{x:h(i/e),y:h(n/e)}}function B(t,e,i){return{x:e/t||0,y:i/t||0}}function G(t,e){return t===e?1:p(t)>=p(e)?t<0?2:4:e<0?8:16}function Y(t,e,i){i||(i=R);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return Math.sqrt(n*n+o*o)}function V(t,e,i){return i||(i=R),180*Math.atan2(e[i[1]]-t[i[1]],e[i[0]]-t[i[0]])/Math.PI}H.prototype={handler:function(){},init:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(D(this.element),this.evWin,this.domHandler)}};var Q={mousedown:1,mousemove:2,mouseup:4};function K(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,H.apply(this,arguments)}C(K,H,{handler:function(t){var e=Q[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var q={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Z={2:"touch",3:"pen",4:"mouse",5:"kinect"},J="pointerdown",$="pointermove pointerup pointercancel";function tt(){this.evEl=J,this.evWin=$,H.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(J="MSPointerDown",$="MSPointerMove MSPointerUp MSPointerCancel"),C(tt,H,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),o=q[n],s=Z[t.pointerType]||t.pointerType,r="touch"==s,a=I(e,t.pointerId,"pointerId");1&o&&(0===t.button||r)?a<0&&(e.push(t),a=e.length-1):12&o&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(a,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function it(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,H.apply(this,arguments)}function nt(t,e){var i=O(t.touches),n=O(t.changedTouches);return 12&e&&(i=M(i.concat(n),"identifier",!0)),[i,n]}C(it,H,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var i=nt.call(this,t,e);12&e&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}});var ot={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function st(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},H.apply(this,arguments)}function rt(t,e){var i=O(t.touches),n=this.targetIds;if(3&e&&1===i.length)return n[i[0].identifier]=!0,[i,i];var o,s,r=O(t.changedTouches),a=[],l=this.target;if(s=i.filter((function(t){return P(t.target,l)})),1===e)for(o=0;o<s.length;)n[s[o].identifier]=!0,o++;for(o=0;o<r.length;)n[r[o].identifier]&&a.push(r[o]),12&e&&delete n[r[o].identifier],o++;return a.length?[M(s.concat(a),"identifier",!0),a]:void 0}function at(){H.apply(this,arguments);var t=w(this.handler,this);this.touch=new st(this.manager,t),this.mouse=new K(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function lt(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,ct.call(this,e)):12&t&&ct.call(this,e)}function ct(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches;setTimeout((function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)}),2500)}}function ut(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var o=this.lastTouches[n],s=Math.abs(e-o.x),r=Math.abs(i-o.y);if(s<=25&&r<=25)return!0}return!1}C(st,H,{handler:function(t){var e=ot[t.type],i=rt.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}),C(at,H,{handler:function(t,e,i){var n="mouse"==i.pointerType;if(!(n&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if("touch"==i.pointerType)lt.call(this,e,i);else if(n&&ut.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ht=E(u.style,"touchAction"),pt=void 0!==ht,gt=function(){if(!pt)return!1;var t={},e=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(i){t[i]=!e||o.CSS.supports("touch-action",i)})),t}();function dt(t,e){this.manager=t,this.set(e)}function mt(t){this.options=l({},this.defaults,t||{}),this.id=L++,this.manager=null,this.options.enable=T(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function ft(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function vt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function yt(t,e){var i=e.manager;return i?i.get(t):t}function bt(){mt.apply(this,arguments)}function Ct(){bt.apply(this,arguments),this.pX=null,this.pY=null}function wt(){bt.apply(this,arguments)}function At(){mt.apply(this,arguments),this._timer=null,this._input=null}function Tt(){bt.apply(this,arguments)}function xt(){bt.apply(this,arguments)}function kt(){mt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Pt(t,e){return(e=e||{}).recognizers=T(e.recognizers,Pt.defaults.preset),new St(t,e)}function St(t,e){var i;this.options=l({},Pt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(N?tt:z?st:j?at:K))(i,U),this.touchAction=new dt(this,this.options.touchAction),_t(this,!0),f(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function _t(t,e){var i,n=t.element;n.style&&(f(t.options.cssProps,(function(o,s){i=E(n.style,s),e?(t.oldCssProps[i]=n.style[i],n.style[i]=o):n.style[i]=t.oldCssProps[i]||""})),e||(t.oldCssProps={}))}dt.prototype={set:function(t){"compute"==t&&(t=this.compute()),pt&&this.manager.element.style&&gt[t]&&(this.manager.element.style[ht]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return f(this.manager.recognizers,(function(e){A(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(S(t,"none"))return"none";var e=S(t,"pan-x"),i=S(t,"pan-y");return e&&i?"none":e||i?e?"pan-x":"pan-y":S(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,o=S(n,"none")&&!gt.none,s=S(n,"pan-y")&&!gt["pan-y"],r=S(n,"pan-x")&&!gt["pan-x"];if(o&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!r||!s)return o||s&&6&i||r&&24&i?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}},mt.prototype={defaults:{},set:function(t){return l(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=yt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)||(t=yt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===I(e,t=yt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=yt(t,this);var e=I(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,i=this.state;function n(i){e.manager.emit(i,t)}i<8&&n(e.options.event+ft(i)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),i>=8&&n(e.options.event+ft(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=l({},t);if(!A(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},C(bt,mt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=6&e,o=this.attrTest(t);return n&&(8&i||!o)?16|e:n||o?4&i?8|e:2&e?4|e:2:32}}),C(Ct,bt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,o=t.direction,s=t.deltaX,r=t.deltaY;return o&e.direction||(6&e.direction?(o=0===s?1:s<0?2:4,i=s!=this.pX,n=Math.abs(t.deltaX)):(o=0===r?1:r<0?8:16,i=r!=this.pY,n=Math.abs(t.deltaY))),t.direction=o,i&&n>e.threshold&&o&e.direction},attrTest:function(t){return bt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=vt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),C(wt,bt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),C(At,mt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!n||!i||12&t.eventType&&!o)this.reset();else if(1&t.eventType)this.reset(),this._timer=d((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=g(),this.manager.emit(this.options.event,this._input)))}}),C(Tt,bt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),C(xt,bt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Ct.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return 30&i?e=t.overallVelocity:6&i?e=t.overallVelocityX:24&i&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=vt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),C(kt,mt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(n&&o&&i){if(4!=t.eventType)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,r=!this.pCenter||Y(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,r&&s?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=d((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=d((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Pt.VERSION="2.0.7",Pt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Tt,{enable:!1}],[wt,{enable:!1},["rotate"]],[xt,{direction:6}],[Ct,{direction:6},["swipe"]],[kt],[kt,{event:"doubletap",taps:2},["tap"]],[At]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},St.prototype={set:function(t){return l(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,o=e.curRecognizer;(!o||o&&8&o.state)&&(o=e.curRecognizer=null);for(var s=0;s<n.length;)i=n[s],2===e.stopped||o&&i!=o&&!i.canRecognizeWith(o)?i.reset():i.recognize(t),!o&&14&i.state&&(o=e.curRecognizer=i),s++}},get:function(t){if(t instanceof mt)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=I(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var i=this.handlers;return f(_(t),(function(t){i[t]=i[t]||[],i[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var i=this.handlers;return f(_(t),(function(t){e?i[t]&&i[t].splice(I(i[t],e),1):delete i[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var i=s.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&_t(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(Pt,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:St,Input:H,TouchAction:dt,TouchInput:st,MouseInput:K,PointerEventInput:tt,TouchMouseInput:at,SingleTouchInput:it,Recognizer:mt,AttrRecognizer:bt,Tap:kt,Pan:Ct,Swipe:xt,Pinch:wt,Rotate:Tt,Press:At,on:x,off:k,each:f,merge:b,extend:y,assign:l,inherit:C,bindFn:w,prefixed:E}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=Pt,void 0===(n=(function(){return Pt}).call(e,i,e,t))||(t.exports=n)}(window,document)}}]);